<!DOCTYPE html>
<html lang="el">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Money Bucket - The Office App</title>
    <style>
        :root {
            --bg-color: #0f172a;
            --card-bg: #1e293b;
            --success: #22c55e;
            --accent: #fbbf24;
        }

        body { 
            font-family: 'Segoe UI', Roboto, sans-serif; 
            text-align: center; 
            background: var(--bg-color); 
            color: white; 
            margin: 0; 
            height: 100vh; 
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        /* Responsive Container */
        .container {
            padding: 20px;
            z-index: 100;
            width: 100%;
            box-sizing: border-box;
        }

        .card { 
            background: var(--card-bg); 
            padding: 20px; 
            border-radius: 15px; 
            box-shadow: 0 10px 25px rgba(0,0,0,0.5); 
            display: inline-block;
            width: 90%;
            max-width: 400px;
        }

        h2 { font-size: 1.5rem; margin-bottom: 10px; }

        input[type="number"], input[type="range"] { 
            width: 80%; 
            padding: 12px; 
            margin: 10px 0; 
            border-radius: 8px; 
            border: 1px solid #334155;
            background: #0f172a;
            color: white;
            font-size: 16px; /* Prevent zoom on iOS */
        }

        button { 
            width: 85%;
            padding: 15px; 
            border-radius: 8px; 
            border: none; 
            background: var(--success); 
            color: white; 
            font-weight: bold; 
            font-size: 1rem;
            cursor: pointer;
            touch-action: manipulation;
        }

        /* Progress Section */
        #work-ui { display: none; width: 100%; }

        .progress-container { 
            width: 85%; 
            background: #334155; 
            height: 25px; 
            border-radius: 12.5px; 
            margin: 15px auto; 
            overflow: hidden; 
            position: relative; 
        }

        #progress-bar { 
            width: 0%; 
            height: 100%; 
            background: linear-gradient(90deg, #22c55e, #4ade80); 
            transition: width 0.4s ease; 
        }

        #live-money { font-size: 2.5rem; color: var(--accent); margin: 10px 0; }

        /* Bucket & Falling Money */
        #bucket { 
            font-size: 80px; 
            position: fixed; 
            bottom: 20px; 
            left: 50%; 
            transform: translateX(-50%); 
            z-index: 50; 
            pointer-events: none;
        }

        .money { 
            position: absolute; 
            font-size: 30px; 
            z-index: 1; 
            pointer-events: none; 
            will-change: transform;
        }

        .slider-label { font-size: 0.9rem; color: #94a3b8; }

        @media (max-width: 480px) {
            #bucket { font-size: 60px; }
            h2 { font-size: 1.2rem; }
            #live-money { font-size: 2rem; }
        }
    </style>
</head>
<body>

    <div class="container" id="setup-ui">
        <div class="card">
            <h2>ğŸ’° Money Tracker</h2>
            <p>ÎœÎ·Î½Î¹Î±Î¯Î¿Ï‚ ÎšÎ±Î¸Î±ÏÏŒÏ‚ ÎœÎ¹ÏƒÎ¸ÏŒÏ‚:</p>
            <input type="number" id="salary" placeholder="Ï€.Ï‡. 1200" pattern="\d*">
            
            <p class="slider-label">Î£Îµ Ï€Î¿Î¹Î± ÏÏÎ± Ï„Î¿Ï… 8ÏÏÎ¿Ï… ÎµÎ¯ÏƒÎ±Î¹;</p>
            <input type="range" id="start-hour" min="0" max="8" step="0.5" value="0">
            <div id="hour-display">ÎÏÎ±: 0</div>
            
            <button onclick="startApp()">Î•ÎÎ‘Î¡ÎÎ—</button>
        </div>
    </div>

    <div class="container" id="work-ui">
        <div id="live-money">0.00â‚¬</div>
        <div class="progress-container">
            <div id="progress-bar"></div>
        </div>
        <div id="stats-info" style="font-size: 0.9rem; color: #94a3b8;"></div>
        
        <div style="margin-top: 20px;">
            <p class="slider-label">Fast Forward / Î”Î¹ÏŒÏÎ¸Ï‰ÏƒÎ· ÏÏÎ±Ï‚:</p>
            <input type="range" id="live-hour-slider" min="0" max="8" step="0.01">
        </div>
        <button onclick="location.reload()" style="background:#ef4444; margin-top:20px; width: auto; padding: 10px 20px;">Reset</button>
    </div>

    <div id="bucket">ğŸª£</div>

    <script>
        let salary, dailyTarget, hourlyRate;
        let currentSeconds = 0;
        const TOTAL_SECONDS = 8 * 3600;
        let rainInterval;

        document.getElementById('start-hour').oninput = function() {
            document.getElementById('hour-display').innerText = `ÎÏÎ±: ${this.value}`;
        };

        function startApp() {
            salary = parseFloat(document.getElementById('salary').value);
            if(!salary || salary <= 0) return alert("Î Î±ÏÎ±ÎºÎ±Î»Ï Î²Î¬Î»Îµ Ï„Î¿ Î¼Î¹ÏƒÎ¸ÏŒ ÏƒÎ¿Ï…!");
            
            dailyTarget = salary / 22;
            hourlyRate = dailyTarget / 8;
            currentSeconds = parseFloat(document.getElementById('start-hour').value) * 3600;
            
            document.getElementById('setup-ui').style.display = 'none';
            document.getElementById('work-ui').style.display = 'block';
            
            updateUI();
            
            // ÎšÏÏÎ¹Î¿ loop (ÎºÎ¬Î¸Îµ Î´ÎµÏ…Ï„ÎµÏÏŒÎ»ÎµÏ€Ï„Î¿)
            setInterval(() => {
                if(currentSeconds < TOTAL_SECONDS) {
                    currentSeconds += 1;
                    updateUI();
                }
            }, 1000);

            startRain();
        }

        function updateUI() {
            const progressPercent = (currentSeconds / TOTAL_SECONDS) * 100;
            const earnedSoFar = (currentSeconds / 3600) * hourlyRate;
            
            document.getElementById('progress-bar').style.width = Math.min(progressPercent, 100) + '%';
            document.getElementById('live-money').innerText = earnedSoFar.toFixed(2) + 'â‚¬';
            document.getElementById('live-hour-slider').value = (currentSeconds / 3600);
            document.getElementById('stats-info').innerText = `Î£Ï„ÏŒÏ‡Î¿Ï‚: ${dailyTarget.toFixed(2)}â‚¬ | ÎÏÎ±: ${(currentSeconds/3600).toFixed(2)}/8`;
        }

        document.getElementById('live-hour-slider').oninput = function() {
            currentSeconds = parseFloat(this.value) * 3600;
            updateUI();
        };

        function createMoney() {
            if(currentSeconds >= TOTAL_SECONDS) return;
            
            const el = document.createElement('div');
            el.className = 'money';
            el.innerText = ['ğŸ’¶', 'ğŸ’°', 'ğŸ’¸', 'ğŸª™'][Math.floor(Math.random() * 4)];
            el.style.left = Math.random() * 85 + 5 + 'vw';
            el.style.top = '-50px';
            document.body.appendChild(el);

            const anim = el.animate([
                { transform: 'translateY(0)' },
                { transform: `translateY(${window.innerHeight - 80}px)` }
            ], { duration: 2500, easing: 'linear' });

            anim.onfinish = () => el.remove();
        }

        function startRain() {
            // Î ÏÎ¿ÏƒÎ±ÏÎ¼Î¿Î³Î® Ï„Î±Ï‡ÏÏ„Î·Ï„Î±Ï‚ Î³Î¹Î± Î½Î± Î¼Î·Î½ ÎºÎ¿Î»Î»Î¬ÎµÎ¹ Ï„Î¿ ÎºÎ¹Î½Î·Ï„ÏŒ
            const freq = Math.max(300, 2500 - (salary/3));
            rainInterval = setInterval(createMoney, freq);
        }
    </script>
</body>
</html>
